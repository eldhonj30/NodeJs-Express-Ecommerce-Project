<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
  integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>

<body>
  <section class=" d-flex align-items-center" style="background-color: #ffffff;">
    <div class="container">
      <div class="row justify-content-center">
        <div class="col-lg-6">
          <div class="card shadow-lg mt-5 rounded-4" style="background-color: rgb(178, 181, 181);">
            <div class="card-body p-4">
              <h1 class="text-center mb-4">Sign In</h1>
              {{#if loginError}}
              <p class="text-danger">{{loginError}}</p>
              {{/if}}
              {{#if blockError}}
              <p class="text-danger">{{blockError}}</p>
              {{/if}}
              <form action="/login" method="post">
                <div class="mb-3">
                  <label for="email" class="form-label">Email</label>
                  <input type="email" id="email" class="form-control" name="email" required>
                </div>
                <div class="mb-3">
                  <label for="password" class="form-label">Password</label>
                  <input type="password" id="password" class="form-control" name="password" required>
                  <div class="text-end mt-3">
                    {{!-- <a href="/forgot-password" class="text-decoration-none">Forgot password?</a> --}}
                    <button type="submit" class="btn btn-primary">Login</button>
                    <button type="button" class="btn btn-primary" style="margin-left: 17.3rem;" data-bs-toggle="modal"
                      data-bs-target="#exampleModal">
                      Forgot Password
                    </button>
                  </div>
                </div>
                {{#if usererror}}
                       <script>
                  document.addEventListener('DOMContentLoaded', function () {
                    Swal.fire({
                      title: 'Error!',
                      text: 'Invalid Credentials',
                      icon: 'error',
                      showConfirmButton: true
                    });
                  });
                </script>
                {{/if}}
                {{#if otperror}}
                  <script>
                  document.addEventListener('DOMContentLoaded', function () {
                    Swal.fire({
                      title: 'Error!',
                      text: 'Invalid OTP',
                      icon: 'error',
                      showConfirmButton: true
                    });
                  });
                </script>
                {{/if}}
                {{#if paswrdchange}}
                  <script>
                  document.addEventListener('DOMContentLoaded', function () {
                    Swal.fire({
                      title: 'Success!',
                      text: 'Password Changed Successfully',
                      icon: 'success',
                      showConfirmButton: true
                    });
                  });
                </script>
                {{/if}}
                {{#if signupSuccess}}
                <script>
                  document.addEventListener('DOMContentLoaded', function () {
                    Swal.fire({
                      title: 'Success!',
                      text: 'Account Created Successfully',
                      icon: 'success',
                      showConfirmButton: true
                    });
                  });
                </script>
                {{/if}}
              </form>
              <div class="text-center mt-3">
                <p>Not a member? <a href="/signup" class="text-decoration-none">Register</a></p>
              </div>
              <!-- Modal -->
              <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel"
                aria-hidden="true">
                <div class="modal-dialog">
                  <div class="modal-content">
                    <form action="/forgot-password-otp" method="get">
                      <div class="modal-body">
                        <label for="new-password">Email:</label>
                        <input type="email" id="email" name="email" required>
                      </div>
                      <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                        <button type="submit" class="btn btn-primary">Submit</button>
                      </div>
                    </form>
                  </div>
                </div>
              </div>

            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

</body>